<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>IMDB Rating Prediction</title>
    <meta charset="utf-8" />
    <meta name="author" content="Ujjayini Bose | Kaivan Gandhi | Donlapun Wongkarnta | Alekhya Nathella" />
    <meta name="date" content="2022-12-05" />
    <script src="libs/header-attrs-2.16/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# IMDB Rating Prediction
]
.subtitle[
## IS 407 Group 6
]
.author[
### Ujjayini Bose | Kaivan Gandhi | Donlapun Wongkarnta | Alekhya Nathella
]
.institute[
### University of Illinois at Urbana-Champaign
]
.date[
### 2022-12-05
]

---


#Research Question
How will the IMDB Score of a movie change based on various variables?
#Initial Project Plan
- EDA of the dataset to analyze the data before coming to any assumptions
- Build visualizations to identify patterns, trends and outliers 
- Find a correlation between the IMDB score and other variables in the dataset to shortlist those with stronger correlations as numerical predictors for our movie rating.
- Build a linear regression model to analyze the relationship between the outcome and predictor variables.
- We plan to use another model (to be decided later) to compare the accuracy between the two models.

---
#Data
The dataset has been taken from Kaggle and consists of IMDB movie information. It is a well rounded dataset with both numerical and categorical variables. We are going to analyze each and every factors which can influence the IMDB ratings so that we can predict better results






```
## Rows: 5,043
## Columns: 28
## $ color                     &lt;chr&gt; "Color", "Color", "Color", "Color", "", "Col…
## $ director_name             &lt;chr&gt; "James Cameron", "Gore Verbinski", "Sam Mend…
## $ num_critic_for_reviews    &lt;int&gt; 723, 302, 602, 813, NA, 462, 392, 324, 635, …
## $ duration                  &lt;int&gt; 178, 169, 148, 164, NA, 132, 156, 100, 141, …
## $ director_facebook_likes   &lt;int&gt; 0, 563, 0, 22000, 131, 475, 0, 15, 0, 282, 0…
## $ actor_3_facebook_likes    &lt;int&gt; 855, 1000, 161, 23000, NA, 530, 4000, 284, 1…
## $ actor_2_name              &lt;chr&gt; "Joel David Moore", "Orlando Bloom", "Rory K…
## $ actor_1_facebook_likes    &lt;int&gt; 1000, 40000, 11000, 27000, 131, 640, 24000, …
## $ gross                     &lt;int&gt; 760505847, 309404152, 200074175, 448130642, …
## $ genres                    &lt;chr&gt; "Action|Adventure|Fantasy|Sci-Fi", "Action|A…
## $ actor_1_name              &lt;chr&gt; "CCH Pounder", "Johnny Depp", "Christoph Wal…
## $ movie_title               &lt;chr&gt; "Avatar ", "Pirates of the Caribbean: At Wor…
## $ num_voted_users           &lt;int&gt; 886204, 471220, 275868, 1144337, 8, 212204, …
## $ cast_total_facebook_likes &lt;int&gt; 4834, 48350, 11700, 106759, 143, 1873, 46055…
## $ actor_3_name              &lt;chr&gt; "Wes Studi", "Jack Davenport", "Stephanie Si…
## $ facenumber_in_poster      &lt;int&gt; 0, 0, 1, 0, 0, 1, 0, 1, 4, 3, 0, 0, 1, 2, 1,…
## $ plot_keywords             &lt;chr&gt; "avatar|future|marine|native|paraplegic", "g…
## $ movie_imdb_link           &lt;chr&gt; "http://www.imdb.com/title/tt0499549/?ref_=f…
## $ num_user_for_reviews      &lt;int&gt; 3054, 1238, 994, 2701, NA, 738, 1902, 387, 1…
## $ language                  &lt;chr&gt; "English", "English", "English", "English", …
## $ country                   &lt;chr&gt; "USA", "USA", "UK", "USA", "", "USA", "USA",…
## $ content_rating            &lt;chr&gt; "PG-13", "PG-13", "PG-13", "PG-13", "", "PG-…
## $ budget                    &lt;dbl&gt; 237000000, 300000000, 245000000, 250000000, …
## $ title_year                &lt;int&gt; 2009, 2007, 2015, 2012, NA, 2012, 2007, 2010…
## $ actor_2_facebook_likes    &lt;int&gt; 936, 5000, 393, 23000, 12, 632, 11000, 553, …
## $ imdb_score                &lt;dbl&gt; 7.9, 7.1, 6.8, 8.5, 7.1, 6.6, 6.2, 7.8, 7.5,…
## $ aspect_ratio              &lt;dbl&gt; 1.78, 2.35, 2.35, 2.35, NA, 2.35, 2.35, 1.85…
## $ movie_facebook_likes      &lt;int&gt; 33000, 0, 85000, 164000, 0, 24000, 0, 29000,…
```








---
# Exploratory Data Analysis

-Summary statistics

-Missing Columns

-Visualizations

---
# Data Cleaning


- Removal of spurious characters (Â) from a the movie title, genre and plot keyword columns.

- Remove the duplicates in the data, using then "movie_title" column.

- Converted the Budget and Gross columns to USD

- Calculated Profit variable




---
Genre variable contains more than one genre. The column was cleaned and separated
  1. Cleaning of the Genre Variable
  2. Converting Genre variable to Corpus
  3. Frequency Analysis: See which are the most used genres in a movie

&lt;img src="presentation_files/figure-html/unnamed-chunk-3-1.png" width="80%" /&gt;
---

&lt;img src="presentation_files/figure-html/unnamed-chunk-4-1.png" alt="Word Cloud of movie genre frequency where Drama is the biggest" width="80%" /&gt;

---

# Correlation Matrix


&lt;img src="presentation_files/figure-html/unnamed-chunk-6-1.png" width="80%" /&gt;
---
# Visualizations
&lt;img src="presentation_files/figure-html/unnamed-chunk-7-1.png" width="80%" /&gt;
---
# Visualizations

&lt;img src="presentation_files/figure-html/unnamed-chunk-8-1.png" width="80%" /&gt;
---
# Visualizations

&lt;img src="presentation_files/figure-html/unnamed-chunk-9-1.png" width="80%" /&gt;
---

# Visualizations


```
## `geom_smooth()` using formula 'y ~ x'
```

&lt;img src="presentation_files/figure-html/unnamed-chunk-10-1.png" width="80%" /&gt;
---
class: inverse, middle, center

# Linear Regression

- Split the data into 70-30 training and test data
- Training data set - 3441
- Test data set - 31
- Built a model predicting IMDB Score based on Duration, Gross and Year



```r
lmModel &lt;- lm(imdb_score ~ duration+gross+title_year, data = train)

# Printing the model object
print(lmModel)
```

```
## 
## Call:
## lm(formula = imdb_score ~ duration + gross + title_year, data = train)
## 
## Coefficients:
## (Intercept)     duration        gross   title_year  
##   2.029e+01    1.341e-02    2.164e-09   -7.681e-03
```
---

```
## 
## Call:
## lm(formula = imdb_score ~ duration + gross + title_year, data = train)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.9444 -0.5507  0.0971  0.6942  2.3696 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  2.029e+01  3.830e+00   5.298 1.26e-07 ***
## duration     1.341e-02  8.465e-04  15.839  &lt; 2e-16 ***
## gross        2.164e-09  2.744e-10   7.885 4.46e-15 ***
## title_year  -7.681e-03  1.905e-03  -4.033 5.66e-05 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.9793 on 2816 degrees of freedom
##   (621 observations deleted due to missingness)
## Multiple R-squared:  0.1357,	Adjusted R-squared:  0.1347 
## F-statistic: 147.3 on 3 and 2816 DF,  p-value: &lt; 2.2e-16
```
---

# New Linear Model with both Numerical &amp; Categorical Variables
- Previous Model lacked accuracy
- Added Profitability categorical variable
- Number of Voted Users and Number of Critics Reviews added
- Improved R-squared value
---
###### Summary of Model


```
## 
## Call:
## lm(formula = imdb_score ~ gross + budget + title_year + num_voted_users + 
##     num_critic_for_reviews + duration + profit_flag, data = train)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.6938 -0.4444  0.0800  0.5643  3.3625 
## 
## Coefficients:
##                          Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)             3.185e+01  4.083e+00   7.801 8.78e-15 ***
## gross                  -1.919e-09  4.006e-10  -4.790 1.76e-06 ***
## budget                 -3.398e-09  4.923e-10  -6.901 6.45e-12 ***
## title_year             -1.344e-02  2.033e-03  -6.612 4.58e-11 ***
## num_voted_users         2.772e-06  1.782e-07  15.557  &lt; 2e-16 ***
## num_critic_for_reviews  1.951e-03  2.049e-04   9.518  &lt; 2e-16 ***
## duration                9.940e-03  8.150e-04  12.196  &lt; 2e-16 ***
## profit_flag1            1.387e-01  4.078e-02   3.402  0.00068 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.8698 on 2618 degrees of freedom
##   (815 observations deleted due to missingness)
## Multiple R-squared:  0.3288,	Adjusted R-squared:  0.327 
## F-statistic: 183.2 on 7 and 2618 DF,  p-value: &lt; 2.2e-16
```

---
# Residual 
&lt;img src="presentation_files/figure-html/unnamed-chunk-16-1.png" width="80%" /&gt;
---

# Predicted Results


```
## [1] "Test IMDB Scores:"
```

```
## [1] 7.1 8.5 6.2 7.5 7.3 6.7
```

```
## [1] "IMDB Scores Predicted by Model:"
```

```
##        2        4        7       10       14       19 
## 6.980873 9.630271 6.873481 6.707333 7.014504 6.767569
```
---
class: middle, center
#Conclusions
- Model predicts IMDB Score based on number of voters, critic reviews, duration and more
- Not very accurate but predicted IMDB scores are close to actual values
- We need a more comprehensive data set to accurately predict IMDB Scores
- In the future:
  - Explore other datasets with more correlated variables
  - Predict other variables like Gross Revenue
  - Other types of regression models
Thank You!

---
class: inverse, middle, center
#QUESTIONS?

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
